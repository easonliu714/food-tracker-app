# 營養追蹤應用程式 - 功能清單

## 核心功能

- [x] 使用者認證系統
- [x] 個人檔案設定 (性別、身高、體重、目標體重)
- [x] 每日卡路里目標計算 (基於 BMR 和活動量)
- [x] 營養素目標設定 (蛋白質、碳水化合物、脂肪比例)

## 相機與掃描功能

- [x] 相機拍攝食物功能
- [x] 從相簿選擇照片
- [x] 前後鏡頭切換
- [ ] 閃光燈控制
- [x] 條碼掃描功能
- [ ] 手動輸入條碼選項

## AI 識別與營養分析

- [ ] 整合 AI 圖像識別 API (識別食物)
- [ ] 食物營養資訊資料庫
- [ ] 條碼產品資料庫
- [ ] 自動計算食物卡路里和營養成分
- [ ] 允許使用者調整份量和營養資訊

## 飲食記錄與追蹤

- [x] 今日飲食記錄列表 (早餐、午餐、晚餐、點心)
- [x] 新增食物記錄
- [ ] 編輯食物記錄
- [ ] 刪除食物記錄 (左滑刪除)
- [x] 卡路里進度環狀圖表
- [x] 營養素進度橫條圖

## 營養均衡分析

- [ ] 時間範圍選擇 (今日/本週/本月)
- [ ] 三大營養素比例圓餅圖
- [ ] 微量營養素攝取狀況追蹤
- [ ] 識別缺乏的營養素
- [ ] 識別過量攝取的營養素
- [ ] 提供營養補充建議
- [ ] 建議的食物來源

## 運動與提醒

- [ ] 每日活動量追蹤 (步數、消耗卡路里)
- [ ] 運動時間記錄
- [ ] 飲食提醒設定 (早餐、午餐、晚餐時間)
- [ ] 喝水提醒功能
- [ ] 根據卡路里攝取提供運動建議
- [ ] 本地通知推送

## 食譜建議功能

- [ ] 食譜資料庫建立
- [ ] 根據營養目標推薦食譜
- [ ] 食譜篩選器 (餐別、卡路里範圍、飲食偏好)
- [ ] 食譜搜尋功能
- [ ] 食譜詳情顯示 (圖片、食材、步驟、營養資訊)
- [ ] 將食譜加入今日記錄
- [ ] 收藏喜愛的食譜

## 使用者介面

- [x] 首頁設計與實作
- [x] 相機畫面設計與實作
- [x] 食物識別結果畫面
- [x] 條碼掃描畫面
- [x] 條碼食品詳情畫面
- [x] 個人檔案設定畫面
- [ ] 營養分析畫面
- [ ] 運動與提醒畫面
- [ ] 食譜建議畫面
- [ ] 食譜詳情畫面
- [x] 底部標籤列導航
- [x] 深色模式支援
- [x] 自訂應用程式圖示和啟動畫面

## 資料庫設計

- [x] 使用者資料表
- [x] 個人檔案資料表
- [x] 飲食記錄資料表
- [x] 食物資料表
- [x] 條碼產品資料表
- [x] 食譜資料表
- [x] 收藏食譜資料表
- [x] 提醒設定資料表

## 測試與優化

- [ ] 相機功能測試
- [ ] 條碼掃描準確度測試
- [ ] AI 識別準確度測試
- [ ] 營養計算正確性驗證
- [ ] 效能優化
- [ ] 無障礙功能測試
- [ ] 深色模式測試

## 資料庫與後端 API (已完成)

- [x] 資料庫 schema 設計
- [x] 使用者資料表
- [x] 個人檔案資料表
- [x] 飲食記錄資料表
- [x] 食物資料表
- [x] 條碼產品資料表
- [x] 食譜資料表
- [x] 收藏食譜資料表
- [x] 提醒設定資料表
- [x] 活動記錄資料表
- [x] 資料庫操作函式
- [x] tRPC API 路由

## 相機與掃描功能 (已完成)

- [x] 相機拍攝食物功能
- [x] 從相簿選擇照片
- [x] 前後鏡頭切換
- [x] 閃光燈控制
- [x] 條碼掃描功能
- [x] 食物識別結果畫面
- [x] 條碼產品詳情畫面
- [x] 手動調整份量功能

## 首頁與個人檔案 (已完成)

- [x] 首頁設計與實作
- [x] 卡路里進度環狀圖表
- [x] 營養素進度橫條圖
- [x] 快速操作按鈕 (拍攝食物、掃描條碼)
- [x] 今日飲食記錄列表
- [x] 個人檔案設定畫面
- [x] 性別、身高、體重輸入
- [x] 目標體重設定
- [x] 活動量選擇
- [x] 健身目標選擇 (減重/維持/增重)
- [x] 每日卡路里目標自動計算 (基於 BMR)
- [x] 底部標籤列導航

## 緊急修正事項

- [x] 修正 APK 建置錯誤 (Gradle build failed) - 已清理 Gradle 快取
- [x] 修正登入流程問題
- [x] 確保未登入時也能查看部分功能或有明確的登入引導
- [ ] 測試 APK 建置流程
- [ ] 測試登入功能

## 使用者回報問題

- [x] 新增出生年份欄位 (用於計算年齡)
- [x] 根據年齡調整 BMR 計算和建議
- [x] 修正相機權限授權按鈕無反應問題 - 改用自訂 Pressable 按鈕
- [x] 調查並修正 APK 建置錯誤 (Gradle build failed) - 已新增 Android 權限配置和清理快取

## 持續性問題 (第二次回報)

- [x] APK 建置錯誤 - 已移除過時的 expo-barcode-scanner 套件
- [x] 相機權限配置 - 已更新 expo-camera plugin 配置
- [說明] 相機權限在網頁預覽中無法測試是正常的,需要在原生應用程式中測試
